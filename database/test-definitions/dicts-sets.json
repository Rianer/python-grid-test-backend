{
    "id": "dicts-sets",
    "topic": "Dictionaries & Sets",
    "description": "This quiz covers dictionary creation, access patterns, common dict methods (.get(), .keys(), .values(), .items(), .update(), .pop(), etc.), set creation & operations (union |, intersection &, difference -, symmetric difference ^), membership testing with 'in', and practical uses like removing duplicates. Great for beginners to early intermediate learners.",
    "singleQuestions": [
        {
            "title": "What is printed by this code?\n```python\nd = {'a': 1, 'b': 2}\nprint(d.get('c', 99))\n```",
            "answerVariants": [
                { "id": "a", "value": "None" },
                { "id": "b", "value": "KeyError" },
                { "id": "c", "value": "99" },
                { "id": "d", "value": "0" }
            ],
            "correctAnswerIds": ["c"],
            "explanation": "`.get(key, default)` returns the default value if the key is missing → **99**."
        },
        {
            "title": "Which expression correctly creates an empty set?",
            "answerVariants": [
                { "id": "a", "value": "set()" },
                { "id": "b", "value": "{}" },
                { "id": "c", "value": "set([])" },
                { "id": "d", "value": "Both a and c" }
            ],
            "correctAnswerIds": ["d"],
            "explanation": "`{}` creates an empty **dictionary**. Use `set()` or `set([])` for an empty set."
        },
        {
            "title": "What is the result of `len({'x':10, 'y':20, 'x':30})`?",
            "answerVariants": [
                { "id": "a", "value": "3" },
                { "id": "b", "value": "2" },
                { "id": "c", "value": "1" },
                { "id": "d", "value": "KeyError" }
            ],
            "correctAnswerIds": ["b"],
            "explanation": "Dictionaries cannot have duplicate keys. Last value wins → `{'x':30, 'y':20}` → length **2**."
        },
        {
            "title": "Which operation gives elements present in **either** set but not both?",
            "answerVariants": [
                { "id": "a", "value": "set1 | set2" },
                { "id": "b", "value": "set1 & set2" },
                { "id": "c", "value": "set1 ^ set2" },
                { "id": "d", "value": "set1 - set2" }
            ],
            "correctAnswerIds": ["c"],
            "explanation": "`^` is the **symmetric difference** operator → elements in exactly one of the sets."
        },
        {
            "title": "What does this code print?\n```python\ns = {1, 2, 3}\ns.add(2)\nprint(len(s))\n```",
            "answerVariants": [
                { "id": "a", "value": "4" },
                { "id": "b", "value": "3" },
                { "id": "c", "value": "2" },
                { "id": "d", "value": "TypeError" }
            ],
            "correctAnswerIds": ["b"],
            "explanation": "Sets automatically eliminate duplicates. Adding an existing element does nothing → length remains **3**."
        },
        {
            "title": "Which is the most efficient way to check if a key exists in a dictionary?",
            "answerVariants": [
                { "id": "a", "value": "'key' in my_dict" },
                { "id": "b", "value": "my_dict.get('key') is not None" },
                { "id": "c", "value": "'key' in my_dict.keys()" },
                { "id": "d", "value": "my_dict['key'] != KeyError" }
            ],
            "correctAnswerIds": ["a"],
            "explanation": "`in` on a dict directly checks keys and is the fastest & most readable idiom."
        },
        {
            "title": "What is the output?\n```python\nd = {}\nd.update({'a':1}, b=2)\nprint(d)\n```",
            "answerVariants": [
                { "id": "a", "value": "{'a': 1, 'b': 2}" },
                { "id": "b", "value": "{'a': 1}" },
                { "id": "c", "value": "TypeError" },
                { "id": "d", "value": "{'update': {'a':1}, 'b':2}" }
            ],
            "correctAnswerIds": ["a"],
            "explanation": "`.update()` accepts multiple mappings or keyword arguments → merges them all."
        },
        {
            "title": "How do you remove duplicates from this list while preserving order (Python 3.7+)?\n```python\nlst = [5, 2, 5, 3, 2, 8]\n```",
            "answerVariants": [
                { "id": "a", "value": "list(dict.fromkeys(lst))" },
                { "id": "b", "value": "list(set(lst))" },
                {
                    "id": "c",
                    "value": "[x for i, x in enumerate(lst) if x not in lst[:i]]"
                },
                { "id": "d", "value": "Both a and c" }
            ],
            "correctAnswerIds": ["d"],
            "explanation": "Since Python 3.7 dicts preserve insertion order → `dict.fromkeys()` is a clean, efficient way. Option c is the classic list comprehension approach."
        },
        {
            "title": "What does `d.items()` return in Python 3?",
            "answerVariants": [
                { "id": "a", "value": "A list of tuples" },
                { "id": "b", "value": "A view object" },
                { "id": "c", "value": "A set of keys" },
                { "id": "d", "value": "A generator" }
            ],
            "correctAnswerIds": ["b"],
            "explanation": "`.items()` returns a **dict_items** view — dynamic and memory efficient."
        },
        {
            "title": "Which is **not** a valid set operation result?",
            "answerVariants": [
                { "id": "a", "value": "{1,2} | {2,3} → {1,2,3}" },
                { "id": "b", "value": "{1,2} & {2,3} → {2}" },
                { "id": "c", "value": "{1,2} - {2,3} → {1}" },
                { "id": "d", "value": "{1,2} + {3,4} → {1,2,3,4}" }
            ],
            "correctAnswerIds": ["d"],
            "explanation": "Sets do **not** support `+` for union. Use `|` instead."
        }
    ],
    "questionGroups": [
        {
            "groupTitle": "What is the final value of `d` or `s` after each snippet?",
            "questions": [
                {
                    "title": "```python\nd = {'name': 'Alice'}\nd.setdefault('age', 30)\nd['age'] = 31\n```",
                    "answerVariants": [
                        { "id": "a", "value": "{'name': 'Alice', 'age': 31}" },
                        { "id": "b", "value": "{'name': 'Alice', 'age': 30}" },
                        { "id": "c", "value": "{'name': 'Alice'}" },
                        { "id": "d", "value": "KeyError" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`.setdefault()` inserts only if key is missing. Then we overwrite → **31**."
                },
                {
                    "title": "```python\ns = {10, 20, 30}\ns |= {30, 40}\nprint(sorted(s))\n```",
                    "answerVariants": [
                        { "id": "a", "value": "[10, 20, 30, 40]" },
                        { "id": "b", "value": "[10, 20, 30]" },
                        { "id": "c", "value": "[30, 40]" },
                        { "id": "d", "value": "TypeError" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`|=` is in-place union → adds elements from the right set."
                },
                {
                    "title": "```python\nd = dict.fromkeys(['x','y','z'], 0)\nd['y'] += 5\n```",
                    "answerVariants": [
                        { "id": "a", "value": "{'x':0, 'y':5, 'z':0}" },
                        { "id": "b", "value": "{'x':0, 'y':0, 'z':0}" },
                        { "id": "c", "value": "TypeError" },
                        { "id": "d", "value": "{'x':0, 'y':1, 'z':0}" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`fromkeys()` creates dict with same default value for all keys. Then we mutate one entry."
                },
                {
                    "title": "```python\na = {1,2,3}\nb = {3,4,5}\nprint(len(a & b))\n```",
                    "answerVariants": [
                        { "id": "a", "value": "1" },
                        { "id": "b", "value": "2" },
                        { "id": "c", "value": "0" },
                        { "id": "d", "value": "6" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "Intersection `&` → only common element 3 → length **1**."
                },
                {
                    "title": "```python\nd = {'a':1}\nd.update([('a',10), ('b',20)])\n```",
                    "answerVariants": [
                        { "id": "a", "value": "{'a':10, 'b':20}" },
                        { "id": "b", "value": "{'a':1, 'b':20}" },
                        { "id": "c", "value": "{'a':1}" },
                        { "id": "d", "value": "TypeError" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`.update()` accepts iterable of pairs → overwrites existing keys."
                }
            ]
        },
        {
            "groupTitle": "Predict the result or choose the correct statement",
            "questions": [
                {
                    "title": "What does this print?\n```python\nd = {'one':1, 'two':2}\nfor k, v in d.items():\n    print(k, end='')\n```",
                    "answerVariants": [
                        {
                            "id": "a",
                            "value": "onetwo (order not guaranteed before 3.7)"
                        },
                        { "id": "b", "value": "one:1 two:2" },
                        { "id": "c", "value": "1 2" },
                        { "id": "d", "value": "SyntaxError" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`.items()` gives key-value pairs. In Python 3.7+ insertion order is preserved, but question focuses on iteration."
                },
                {
                    "title": "Fastest way to remove duplicates from `[1,2,2,3,1,4]` while **not** preserving order?",
                    "answerVariants": [
                        { "id": "a", "value": "list(set(lst))" },
                        { "id": "b", "value": "dict.fromkeys(lst).keys()" },
                        {
                            "id": "c",
                            "value": "[x for x in lst if x not in seen] with seen=set()"
                        },
                        { "id": "d", "value": "sorted(set(lst))" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`set()` is the most concise and usually fastest for order-insensitive deduplication."
                },
                {
                    "title": "Which expression returns **True**?",
                    "answerVariants": [
                        { "id": "a", "value": "3 in {1: 'a', 2: 'b', 3: 'c'}" },
                        { "id": "b", "value": "'a' in {1: 'a', 2: 'b'}" },
                        { "id": "c", "value": "1.0 in {1, 2, 3}" },
                        { "id": "d", "value": "Both a and c" }
                    ],
                    "correctAnswerIds": ["d"],
                    "explanation": "`in` on dict checks **keys**. `1.0 == 1` is True → 1.0 is considered in the set."
                },
                {
                    "title": "What is `d.pop('x', 99)` when `'x'` is **not** in `d`?",
                    "answerVariants": [
                        { "id": "a", "value": "99" },
                        { "id": "b", "value": "KeyError" },
                        { "id": "c", "value": "None" },
                        { "id": "d", "value": "0" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`.pop(key, default)` returns default if key missing — safe removal."
                },
                {
                    "title": "Which set operation is equivalent to elements in A or B but **not** in both?",
                    "answerVariants": [
                        { "id": "a", "value": "A.symmetric_difference(B)" },
                        { "id": "b", "value": "A.difference(B)" },
                        { "id": "c", "value": "A.intersection(B)" },
                        { "id": "d", "value": "A.union(B)" }
                    ],
                    "correctAnswerIds": ["a"],
                    "explanation": "`.symmetric_difference()` or `^` gives the XOR-like operation for sets."
                }
            ]
        }
    ]
}
